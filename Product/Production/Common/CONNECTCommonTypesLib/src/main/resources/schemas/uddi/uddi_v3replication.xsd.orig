<?xml version="1.0" encoding="UTF-8"?>
<xsd:schema targetNamespace="urn:uddi-org:repl_v3" xmlns:uddi_custody="urn:uddi-org:custody_v3" xmlns:uddi="urn:uddi-org:api_v3" xmlns:uddi_repl="urn:uddi-org:repl_v3" xmlns:dsig="http://www.w3.org/2000/09/xmldsig#" xmlns:xsd="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" version="3.0.2" id="uddi_repl">
	<!-- 
	Copyright (c) 2000-2002 by Accenture, Ariba, Inc., Commerce One, Inc. 
	Fujitsu Limited, Hewlett-Packard Company, i2 Technologies, Inc., 
	Intel Corporation, International Business Machines Corporation,  
	Microsoft Corporation, Oracle Corporation, SAP AG, Sun Microsystems, Inc., 
	and VeriSign, Inc.  All Rights Reserved.
    
	Copyright (c) OASIS Open 2002-2004. All Rights Reserved.
	-->
<<<<<<< Updated upstream
	<import namespace="urn:uddi-org:api_v3" schemaLocation="uddi_v3.xsd"/>
	<import namespace="urn:uddi-org:custody_v3" schemaLocation="uddi_v3custody.xsd"/>
	<import namespace="http://www.w3.org/2000/09/xmldsig#" schemaLocation="http://www.w3.org/TR/xmldsig-core/xmldsig-core-schema.xsd"/>
=======
	<xsd:import namespace="urn:uddi-org:api_v3" schemaLocation="uddi_v3.xsd"/>
	<xsd:import namespace="urn:uddi-org:custody_v3" schemaLocation="uddi_v3custody.xsd"/>
	<!-- <xsd:import namespace="http://www.w3.org/2000/09/xmldsig#" schemaLocation="http://www.w3.org/TR/xmldsig-core/xmldsig-core-schema.xsd"/> -->
	<xsd:import namespace="http://www.w3.org/2000/09/xmldsig#" schemaLocation="xmldsig-core-schema.xsd"/>
>>>>>>> Stashed changes
	<!-- Attribute type definitions -->
	<xsd:simpleType name="controlledMessage_type" final="restriction">
		<xsd:restriction base="uddi:validationTypeString255"/>
	</xsd:simpleType>
	<xsd:simpleType name="message_type" final="restriction">
		<xsd:restriction base="uddi:validationTypeString255"/>
	</xsd:simpleType>
	<xsd:simpleType name="timeOfConfigurationUpdate_type" final="restriction">
		<xsd:restriction base="uddi:validationTypeString255"/>
	</xsd:simpleType>
	<xsd:simpleType name="operatorNodeID_type" final="restriction">
		<xsd:restriction base="uddi:uddiKey"/>
	</xsd:simpleType>
	<xsd:simpleType name="operatorStatus_type" final="#all">
		<xsd:restriction base="string">
			<xsd:maxLength value="16"/>
			<xsd:enumeration value="new"/>
			<xsd:enumeration value="normal"/>
			<xsd:enumeration value="resigned"/>
		</xsd:restriction>
	</xsd:simpleType>
	<xsd:simpleType name="USN_type" final="#all">
		<xsd:restriction base="integer">
			<xsd:minInclusive value="0"/>
			<xsd:maxInclusive value="9223372036854775807"/>
		</xsd:restriction>
	</xsd:simpleType>
	<!-- Type and element def's for replication stream config and content -->
	<xsd:element name="changeRecord">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element name="changeID" type="uddi_repl:changeRecordID_type"/>
				<xsd:group ref="uddi_repl:changeRecordPayload_type"/>
			</xsd:sequence>
			<xsd:attribute name="acknowledgementRequested" type="boolean" use="required"/>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="changeRecordAcknowledgement">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element name="acknowledgedChange" type="uddi_repl:changeRecordID_type"/>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="changeRecordNewDataConditional">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element ref="uddi_repl:changeRecordNewData"/>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="changeRecordCorrection">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element ref="uddi_repl:changeRecord"/>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="changeRecordDelete">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:group ref="uddi_repl:genericKey_type"/>
				<xsd:element name="modified" type="uddi:timeInstant"/>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="changeRecordDeleteAssertion">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element ref="uddi:publisherAssertion"/>
				<xsd:element name="fromBusinessCheck" type="boolean"/>
				<xsd:element name="toBusinessCheck" type="boolean"/>
				<xsd:element name="modified" type="uddi:timeInstant"/>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="changeRecordHide">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element ref="uddi:tModelKey"/>
				<xsd:element name="modified" type="uddi:timeInstant"/>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="changeRecordNewData">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:choice>
					<xsd:element ref="uddi:businessEntity"/>
					<xsd:element ref="uddi:businessService"/>
					<xsd:element ref="uddi:bindingTemplate"/>
					<xsd:element ref="uddi:tModel"/>
				</xsd:choice>
				<xsd:element ref="uddi:operationalInfo"/>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="fromSignatures">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element ref="dsig:Signature" minOccurs="0" maxOccurs="unbounded"/>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="toSignatures">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element ref="dsig:Signature" minOccurs="0" maxOccurs="unbounded"/>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="changeRecordPublisherAssertion">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element ref="uddi:publisherAssertion"/>
				<xsd:element name="fromBusinessCheck" type="boolean"/>
				<xsd:element name="toBusinessCheck" type="boolean"/>
				<xsd:element name="modified" type="uddi:timeInstant"/>
				<xsd:element ref="uddi_repl:fromSignatures" minOccurs="0"/>
				<xsd:element ref="uddi_repl:toSignatures" minOccurs="0"/>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="changeRecordNull"/>
	<xsd:complexType name="changeRecordID_type" final="restriction">
		<xsd:sequence>
			<xsd:element name="nodeID" type="uddi_repl:operatorNodeID_type"/>
			<xsd:element name="originatingUSN" type="uddi_repl:USN_type" minOccurs="0"/>
		</xsd:sequence>
	</xsd:complexType>
	<xsd:group name="changeRecordPayload_type">
		<xsd:choice>
			<xsd:element ref="uddi_repl:changeRecordNull"/>
			<xsd:element ref="uddi_repl:changeRecordNewData"/>
			<xsd:element ref="uddi_repl:changeRecordDelete"/>
			<xsd:element ref="uddi_repl:changeRecordPublisherAssertion"/>
			<xsd:element ref="uddi_repl:changeRecordHide"/>
			<xsd:element ref="uddi_repl:changeRecordDeleteAssertion"/>
			<xsd:element ref="uddi_repl:changeRecordAcknowledgement"/>
			<xsd:element ref="uddi_repl:changeRecordCorrection"/>
			<xsd:element ref="uddi_repl:changeRecordNewDataConditional"/>
			<xsd:element ref="uddi_repl:changeRecordConditionFailed" /> 
		</xsd:choice>
	</xsd:group>
	<xsd:element name="changeRecords">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element ref="uddi_repl:changeRecord" minOccurs="0" maxOccurs="unbounded"/>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="communicationGraph">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element name="node" type="uddi_repl:operatorNodeID_type" maxOccurs="unbounded"/>
				<xsd:element name="controlledMessage" type="uddi_repl:controlledMessage_type" maxOccurs="unbounded"/>
				<xsd:element name="edge" minOccurs="0" maxOccurs="unbounded">
					<xsd:complexType>
						<xsd:sequence>
							<xsd:element name="message" type="uddi_repl:message_type" maxOccurs="unbounded"/>
							<xsd:element name="messageSender" type="uddi_repl:operatorNodeID_type"/>
							<xsd:element name="messageReceiver" type="uddi_repl:operatorNodeID_type"/>
							<xsd:element name="messageReceiverAlternate" type="uddi_repl:operatorNodeID_type" minOccurs="0" maxOccurs="unbounded"/>
						</xsd:sequence>
					</xsd:complexType>
				</xsd:element>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="do_ping">
		<xsd:complexType>
			<xsd:sequence/>
		</xsd:complexType>
	</xsd:element>
	<xsd:group name="genericKey_type">
		<xsd:choice>
			<xsd:element ref="uddi:businessKey"/>
			<xsd:element ref="uddi:tModelKey"/>
			<xsd:element ref="uddi:serviceKey"/>
			<xsd:element ref="uddi:bindingKey"/>
		</xsd:choice>
	</xsd:group>
	<xsd:element name="get_changeRecords">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element name="requestingNode" type="uddi_repl:operatorNodeID_type"/>
				<xsd:element name="changesAlreadySeen" type="uddi_repl:highWaterMarkVector_type" minOccurs="0"/>
				<xsd:choice minOccurs="0">
					<xsd:element name="responseLimitCount" type="integer"/>
					<xsd:element name="responseLimitVector" type="uddi_repl:highWaterMarkVector_type"/>
				</xsd:choice>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:complexType name="highWaterMarkVector_type" final="restriction">
		<xsd:sequence>
			<xsd:element name="highWaterMark" type="uddi_repl:changeRecordID_type" minOccurs="0" maxOccurs="unbounded"/>
		</xsd:sequence>
	</xsd:complexType>
	<xsd:element name="notify_changeRecordsAvailable">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element name="notifyingNode" type="uddi_repl:operatorNodeID_type"/>
				<xsd:element name="changesAvailable" type="uddi_repl:highWaterMarkVector_type"/>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="get_highWaterMarks">
		<xsd:complexType>
			<xsd:sequence/>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="highWaterMarks" type="uddi_repl:highWaterMarkVector_type"/>
	<xsd:element name="operatorNodeID" type="uddi_repl:operatorNodeID_type"/>
	<xsd:element name="operator">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element ref="uddi_repl:operatorNodeID"/>
				<xsd:element name="operatorStatus" type="uddi_repl:operatorStatus_type"/>
				<xsd:element ref="uddi:contact" maxOccurs="unbounded"/>
				<xsd:element name="soapReplicationURL" type="anyURI"/>
				<xsd:element ref="dsig:KeyInfo" minOccurs="0" maxOccurs="unbounded"/>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="transfer_custody" type="uddi_repl:transfer_custody" final="restriction"/>
	<xsd:complexType name="transfer_custody" final="restriction">
		<xsd:sequence>
			<xsd:element ref="uddi_custody:transferToken"/>
			<xsd:element ref="uddi_custody:keyBag"/>
			<xsd:element ref="uddi_custody:transferOperationalInfo"/>
		</xsd:sequence>
	</xsd:complexType>
	<xsd:element name="replicationConfiguration">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element name="serialNumber" type="uddi_repl:USN_type"/>
				<xsd:element name="timeOfConfigurationUpdate" type="uddi_repl:timeOfConfigurationUpdate_type"/>
				<xsd:element name="registryContact">
					<xsd:complexType>
						<xsd:sequence>
							<xsd:element ref="uddi:contact"/>
						</xsd:sequence>
					</xsd:complexType>
				</xsd:element>
				<xsd:element ref="uddi_repl:operator" minOccurs="0" maxOccurs="unbounded"/>
				<xsd:element ref="uddi_repl:communicationGraph" minOccurs="0"/>
				<xsd:element name="maximumTimeToSyncRegistry" type="integer" minOccurs="0"/>
				<xsd:element name="maximumTimeToGetChanges" type="integer"/>
				<xsd:element ref="dsig:Signature" minOccurs="0" maxOccurs="unbounded"/>
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
	<xsd:element name="changeRecordConditionFailed">
		<xsd:complexType>
			<xsd:sequence>
				<xsd:element name="failedChangeID" type="uddi_repl:changeRecordID_type" minOccurs="1" maxOccurs="1" />
			</xsd:sequence>
		</xsd:complexType>
	</xsd:element>
</xsd:schema>
